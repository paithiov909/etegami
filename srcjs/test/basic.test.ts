import { describe, it, expect } from 'vitest';
import { decodeNativeRaster, NativeRasterInput } from '../src/decode';

describe('decodeNativeRaster', () => {
  it('decodes simple raster input', async () => {
    const input: NativeRasterInput = {"data_b64":"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","width":120,"height":120,"id":"test"};
    const imageData = await decodeNativeRaster(input);
    expect(imageData).toBeInstanceOf(ImageData);
  });
});
